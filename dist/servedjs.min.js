"use strict";!function(n){var r=n.jsdi=n.jsdi||{};r.service("$log",function(){var o={OFF:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5,ALL:6,currentLevel:0,setLevel:function(e){o.levelIsInRange(e)&&(o.currentLevel=e)},levelIsInRange:function(e){return o.OFF<=e&&e<=o.ALL},shouldLog:function(e){return o.currentLevel>=e},error:function(){console&&o.shouldLog(o.ERROR)&&console.error.apply(console,arguments)},warn:function(){console&&o.shouldLog(o.WARN)&&console.warn.apply(console,arguments)},info:function(){console&&o.shouldLog(o.INFO)&&console.info.apply(console,arguments)},log:function(){console&&o.shouldLog(o.INFO)&&console.log.apply(console,arguments)},debug:function(){console&&o.shouldLog(o.DEBUG)&&console.log.apply(console,arguments)},trace:function(){console&&o.shouldLog(o.TRACE)&&console.trace.apply(console,arguments)}};return o}),r.service("$browser",function(){var e={init:function(){},forward:function(){n&&n.history.forward()},back:function(){n&&n.history.back()},go:function(e){n&&("number"==typeof e?n.history.go(e):n.location.hash="#"+e)}};return e});function e(e){var o={storage:e,get:function(e){if(e){var o=this.storage.getItem(e);if(o)return JSON.parse(o)}return null},set:function(e,o){e&&o&&this.storage.setItem(e,JSON.stringify(o))},removeItem:function(e){e&&this.storage.removeItem(e)}};return o}!function(){var e,o,t=[{globalName:"_",serviceName:"$lodash"},{globalName:"S",serviceName:"$strings"}];for(o=0;o<t.length;o++)n[(e=t[o]).globalName]&&r.service(e.serviceName,n[e.globalName])}(),r.service("$localStorage",e(localStorage)),r.service("$sessionStorage",e(sessionStorage)),r.service("$placeholders",function(){return{replace:function(e,o){var t,n;if(e&&o)for(t in o)n=new RegExp("\\$\\{"+t+"\\}","g"),e=e.replace(n,o[t]);return e}}}),r.service("$timer",function(){return{newTimer:function(e,o){return{millis:o,timer:null,start:function(){this.timer=setTimeout(e,this.millis)},stop:function(){clearTimeout(this.timer)}}},newInterval:function(e,o){return{millis:o,timer:null,start:function(){this.timer=setInterval(e,this.millis)},stop:function(){clearTimeout(this.timer)}}}}}),r.service("$geo",function(){return{newWatcher:function(o,e,t){return{success:function(e){o({latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy,altitude:e.coords.altitude,altitudeAccuracy:e.coords.altitudeAccuracy,speed:e.coords.speed,heading:e.coords.heading,timestamp:e.timestamp})},error:e,options:t||{enableHighAccuracy:!0,maximumAge:0},watchId:null,start:function(){this.watchId=navigator.geolocation.watchPosition(this.success,this.error,this.options)},stop:function(){navigator.geolocation.clearWatch(this.watchId),this.watchId=null}}}}})}("undefined"==typeof window?global:window);